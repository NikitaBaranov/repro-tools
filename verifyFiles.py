#!/usr/bin/env python

#Script to check whether the output files generated by HCP pipeline scripts
#are the same or not. It will check for the match between two files with respect the filename, size, content, modification time, distance etc.
#Maintainters : Big Data Lab Team, Concordia University.
#email : tristan.glatard@concordia.ca, laletscaria@yahoo.co.in

import os
import sys
import subprocess

total = len(sys.argv)
cmdargs = str(sys.argv)
print ("The total numbers of args passed to the script: %d " % total)
print ("Args list: %s " % cmdargs)
print ("Script name: %s" % str(sys.argv[0]))
print ("First argument: %s" % str(sys.argv[1]))

for root, dirs, files in os.walk(sys.argv[1]):
    dirs[:] = (map(lambda d: os.path.join(root, d), dirs))
    files[:] = (map(lambda f: os.path.join(root, f), files))
    files.sort(key=lambda x: os.stat(os.path.join(root, x)).st_mtime)
    file_dict = {}
    for dirname in dirs:
        dirname = os.path.join(root,dirname)
	
	#print dirname

    for filename in files:
        filename = os.path.join(root, filename)
        stat = os.stat(filename)
	file_dict[filename] = stat
        
        #print filename
        print file_dict

